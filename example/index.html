<html>
<head>
    <script src="../src/components/vlayout.js" type="module"></script>
    <script src="../src/components/hlayout.js" type="module"></script>
    <script src="../src/components/toast.js" type="module"></script>
    <script src="../src/components/authentication/guardPage.js" type="module"></script>
    <script src="../src/components/authentication/guardContainer.js" type="module"></script>
    <script src="../src/components/authentication/appLogo.js" type="module"></script>
    <script src="../src/components/authentication/appName.js" type="module"></script>
    <script src="../src/components/authentication/accountInput.js" type="module"></script>
    <script src="../src/components/authentication/passwordInput.js" type="module"></script>
    <script src="../src/components/authentication/errorText.js" type="module"></script>
    <script src="../src/components/authentication/loginButton.js" type="module"></script>
    <style>
        body {
            margin: 0;
        }
    </style>
</head>
<body>
    <g-guard>
        <g-guard-container>
            <g-app-logo marginTop="24px" marginBottom="24px"></g-app-logo>
            <g-app-name marginBottom="20px"></g-app-name>
            <g-account-input marginBottom="20px" text="test"></g-account-input>
            <g-password-input marginBottom="20px" text="111111"></g-password-input>
            <g-error-text marginTop="-15px" marginBottom="5px"></g-error-text>
            <g-login-button marginBottom="20px">登录</g-login-button>
        </g-guard-container>
    </g-guard>

    <script type="module">
        import Guard from '../src/guard.js'

        const guard = await Guard.initialize({appId: "60caaf41df670b771fd08937"});
        guard.on('login', (code, message, userInfo) => {
            if (code === 200) {
                console.log(userInfo);
                guard.showToast('登录成功，欢迎你：' + userInfo.nickname);
            }
        });

    </script>

</body>
</html>